<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keeponfirst Local Brain - Overview</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        :root {
            --bg-primary: #0d1117;
            --bg-secondary: #161b22;
            --bg-tertiary: #21262d;
            --text-primary: #f0f6fc;
            --text-secondary: #8b949e;
            --accent-blue: #58a6ff;
            --accent-green: #3fb950;
            --accent-purple: #a371f7;
            --accent-orange: #d29922;
            --border-color: #30363d;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        header {
            text-align: center;
            padding: 3rem 0;
            background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-primary) 100%);
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 3rem;
        }

        h1 {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 1.2rem;
        }

        .section {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .section h2 {
            color: var(--accent-blue);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .section h2::before {
            content: '';
            display: inline-block;
            width: 4px;
            height: 24px;
            background: var(--accent-blue);
            border-radius: 2px;
        }

        .mermaid {
            background: var(--bg-tertiary);
            border-radius: 8px;
            padding: 1.5rem;
            overflow-x: auto;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .feature-card {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1.5rem;
            transition: transform 0.2s, border-color 0.2s;
        }

        .feature-card:hover {
            transform: translateY(-2px);
            border-color: var(--accent-blue);
        }

        .feature-card h3 {
            color: var(--accent-green);
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .feature-card p {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        .badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .badge-blue {
            background: rgba(88, 166, 255, 0.2);
            color: var(--accent-blue);
        }

        .badge-green {
            background: rgba(63, 185, 80, 0.2);
            color: var(--accent-green);
        }

        .badge-purple {
            background: rgba(163, 113, 247, 0.2);
            color: var(--accent-purple);
        }

        .badge-orange {
            background: rgba(210, 153, 34, 0.2);
            color: var(--accent-orange);
        }

        .highlight-box {
            background: linear-gradient(135deg, rgba(88, 166, 255, 0.1), rgba(163, 113, 247, 0.1));
            border: 1px solid var(--accent-blue);
            border-radius: 8px;
            padding: 1.5rem;
            margin-top: 1.5rem;
        }

        .highlight-box h3 {
            color: var(--accent-purple);
            margin-bottom: 0.5rem;
        }

        footer {
            text-align: center;
            padding: 2rem;
            color: var(--text-secondary);
            border-top: 1px solid var(--border-color);
            margin-top: 3rem;
        }

        footer a {
            color: var(--accent-blue);
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            h1 {
                font-size: 1.8rem;
            }

            .section {
                padding: 1.5rem;
            }
        }
    </style>
</head>

<body>
    <header>
        <div class="container">
            <h1>ğŸ§  Keeponfirst Local Brain</h1>
            <p class="subtitle">Local-first Brain Capture System with AI Assistance</p>
            <div style="margin-top: 1rem;">
                <span class="badge badge-blue">v1.0</span>
                <span class="badge badge-green">Local-first</span>
                <span class="badge badge-purple">Notion Sync</span>
                <span class="badge badge-orange">Central Storage</span>
            </div>
        </div>
    </header>

    <div class="container">
        <!-- System Architecture -->
        <section class="section">
            <h2>ç³»çµ±æ¶æ§‹ (System Architecture)</h2>
            <div class="mermaid">
                graph TB
                subgraph User["ğŸ‘¤ User"]
                CMD["/kof-cap, /kof-note, ..."]
                end

                subgraph Antigravity["ğŸš€ Antigravity (Orchestrator)"]
                SKILL["keeponfirst-local-brain-skill"]
                PREVIEW["Preview & Confirm"]
                end

                subgraph GlobalSkill["~/.gemini/antigravity/skills/"]
                CONFIG["config.json"]
                SCRIPTS["scripts/"]
                VENV[".venv"]
                ENV[".env (Notion Token)"]
                end

                subgraph CentralBrain["ğŸ“ Central Brain (Repo)"]
                MARKER[".agentic/CENTRAL_LOG_MARKER"]
                RECORDS["records/"]
                LOGS[".agentic/logs/"]
                end

                subgraph Notion["â˜ï¸ Notion"]
                PAGES["Pages"]
                end

                CMD --> SKILL
                SKILL --> PREVIEW
                PREVIEW -->|User Confirms| SCRIPTS
                SCRIPTS --> CONFIG
                CONFIG -->|Resolve Path| MARKER
                SCRIPTS -->|Write| RECORDS
                SCRIPTS -->|Write| LOGS
                SCRIPTS -->|Sync| PAGES

                style User fill:#1a1a2e,stroke:#58a6ff
                style Antigravity fill:#1a1a2e,stroke:#a371f7
                style GlobalSkill fill:#1a1a2e,stroke:#3fb950
                style CentralBrain fill:#1a1a2e,stroke:#d29922
                style Notion fill:#1a1a2e,stroke:#58a6ff
            </div>
        </section>

        <!-- Capture Workflow -->
        <section class="section">
            <h2>æ•æ‰æµç¨‹ (Capture Workflow)</h2>
            <div class="mermaid">
                flowchart LR
                A["1ï¸âƒ£ Trigger<br />/kof-cap æƒ³æ³•..."] --> B["2ï¸âƒ£ Interpret<br />AI åˆ¤æ–·é¡å‹"]
                B --> C["3ï¸âƒ£ Draft<br />å¥—ç”¨æ¨¡æ¿"]
                C --> D["4ï¸âƒ£ Preview<br />ç”¨æˆ¶ç¢ºèª"]
                D -->|âœ… Confirm| E["5ï¸âƒ£ Execute<br />å¯«å…¥è¨˜éŒ„"]
                D -->|âœï¸ Edit| C
                D -->|âŒ Cancel| F["å–æ¶ˆ"]
                E --> G["6ï¸âƒ£ Report<br />é¡¯ç¤ºçµæœ"]

                style A fill:#2d333b,stroke:#58a6ff
                style B fill:#2d333b,stroke:#a371f7
                style C fill:#2d333b,stroke:#a371f7
                style D fill:#2d333b,stroke:#d29922
                style E fill:#2d333b,stroke:#3fb950
                style F fill:#2d333b,stroke:#f85149
                style G fill:#2d333b,stroke:#3fb950
            </div>
        </section>

        <!-- Path Resolution -->
        <section class="section">
            <h2>è·¯å¾‘è§£æå„ªå…ˆåº (Path Resolution Priority)</h2>
            <div class="mermaid">
                flowchart TD
                START["resolve_log_home()"] --> ENV{"1ï¸âƒ£ ENV Variable<br />ANTIGRAVITY_LOG_HOME?"}
                ENV -->|Set| DONE["âœ… Use ENV Path"]
                ENV -->|Not Set| CFG{"2ï¸âƒ£ config.json<br />resolved.central_log_home?"}
                CFG -->|Set| DONE2["âœ… Use Config Path"]
                CFG -->|Not Set| DETECT{"3ï¸âƒ£ Auto-detect<br />CENTRAL_LOG_MARKER?"}
                DETECT -->|Found| DONE3["âœ… Use Detected Path"]
                DETECT -->|Not Found| TTY{"4ï¸âƒ£ Is TTY?"}
                TTY -->|Yes| ASK["ğŸ“ Ask User Once<br />& Save to config.json"]
                ASK --> DONE4["âœ… Use User Path"]
                TTY -->|No| FAIL["âŒ Fail with Instructions"]

                style START fill:#2d333b,stroke:#58a6ff
                style DONE fill:#238636,stroke:#3fb950
                style DONE2 fill:#238636,stroke:#3fb950
                style DONE3 fill:#238636,stroke:#3fb950
                style DONE4 fill:#238636,stroke:#3fb950
                style FAIL fill:#da3633,stroke:#f85149
                style ASK fill:#2d333b,stroke:#d29922
            </div>
        </section>

        <!-- Record Types -->
        <section class="section">
            <h2>è¨˜éŒ„é¡å‹ (Record Types)</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <h3>âš–ï¸ Decision</h3>
                    <p>è¨˜éŒ„é‡è¦æ±ºç­–ã€æ¬Šè¡¡å–æ¨èˆ‡ç†ç”±ã€‚é©ç”¨æ–¼æŠ€è¡“é¸å‹ã€æ¶æ§‹æ±ºå®šç­‰ã€‚</p>
                </div>
                <div class="feature-card">
                    <h3>ğŸ“ Worklog</h3>
                    <p>è¨˜éŒ„æ¯æ—¥æ´»å‹•ã€å­¸ç¿’å¿ƒå¾—èˆ‡ä¸‹ä¸€æ­¥è¡Œå‹•ã€‚é©ç”¨æ–¼å·¥ä½œæ—¥èªŒã€‚</p>
                </div>
                <div class="feature-card">
                    <h3>ğŸ’¡ Idea</h3>
                    <p>æ•æ‰éˆæ„Ÿã€å¯èƒ½æ€§èˆ‡æ½›åŠ›ã€‚é©ç”¨æ–¼æœªæˆå½¢çš„æƒ³æ³•ã€‚</p>
                </div>
                <div class="feature-card">
                    <h3>ğŸ“‹ Backlog</h3>
                    <p>è¨˜éŒ„æœªä¾†ä»»å‹™ã€å„ªå…ˆç´šèˆ‡ä¾è³´é—œä¿‚ã€‚é©ç”¨æ–¼å¾…è¾¦äº‹é …ã€‚</p>
                </div>
                <div class="feature-card">
                    <h3>ğŸ“„ Note</h3>
                    <p>åŸå§‹æ•æ‰ï¼Œä¸å¥—ç”¨çµæ§‹æ¨¡æ¿ã€‚é©ç”¨æ–¼å¿«é€Ÿè¨˜éŒ„ã€‚</p>
                </div>
            </div>
        </section>

        <!-- Key Features -->
        <section class="section">
            <h2>æ ¸å¿ƒç‰¹è‰² (Key Features)</h2>
            <div class="highlight-box">
                <h3>ğŸ  Local-first Philosophy</h3>
                <p>æ‰€æœ‰è³‡æ–™å„ªå…ˆå­˜åœ¨æœ¬åœ°ï¼ŒNotion åªæ˜¯åŒæ­¥ç›®æ¨™ã€‚å³ä½¿ Notion é›¢ç·šï¼Œä½ çš„ç­†è¨˜ä»ç„¶å®‰å…¨ã€‚</p>
            </div>
            <div class="highlight-box" style="margin-top: 1rem;">
                <h3>ğŸ¯ Central Storage</h3>
                <p>ç„¡è«–ä½ åœ¨å“ªå€‹å°ˆæ¡ˆç›®éŒ„è§¸ç™¼ <code>/kof-cap</code>ï¼Œç­†è¨˜éƒ½æœƒçµ±ä¸€å­˜å› Central Brainï¼Œé¿å…æ•£è½å„è™•ã€‚</p>
            </div>
            <div class="highlight-box" style="margin-top: 1rem;">
                <h3>ğŸ‘ï¸ Preview & Confirm</h3>
                <p>æ¯æ¬¡å¯«å…¥å‰éƒ½æœƒé¡¯ç¤ºé è¦½ï¼Œç¢ºä¿ä½ å®Œå…¨æŒæ§ã€‚AI è¼”åŠ©ä½†ä¸ä¸»å°ã€‚</p>
            </div>
        </section>

        <!-- Quick Start -->
        <section class="section">
            <h2>å¿«é€Ÿé–‹å§‹ (Quick Start)</h2>
            <div class="mermaid">
                flowchart LR
                A["Clone Repo"] --> B["Run init.sh"]
                B --> C["Configure .env"]
                C --> D["Install Global Skill"]
                D --> E["Use /kof-cap anywhere!"]

                style A fill:#2d333b,stroke:#58a6ff
                style B fill:#2d333b,stroke:#58a6ff
                style C fill:#2d333b,stroke:#a371f7
                style D fill:#2d333b,stroke:#3fb950
                style E fill:#238636,stroke:#3fb950
            </div>
        </section>
    </div>

    <footer>
        <p>Built with ğŸ’œ by <a href="https://github.com/keeponfirst" target="_blank">KeepOnFirst</a></p>
        <p style="margin-top: 0.5rem;">
            <a href="https://github.com/keeponfirst/keeponfirst-local-brain" target="_blank">GitHub Repository</a>
        </p>
    </footer>

    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'dark',
            themeVariables: {
                primaryColor: '#2d333b',
                primaryTextColor: '#f0f6fc',
                primaryBorderColor: '#58a6ff',
                lineColor: '#8b949e',
                secondaryColor: '#21262d',
                tertiaryColor: '#161b22'
            }
        });
    </script>
</body>

</html>